<template name="_taskItem">
    <div class="row task action ui-sortable-handle" data-id="{{_id}}" data-order="{{order}}">
        <!-- editable title -->
        {{#if taskEditing}}
            <div class="action-box content-box action-edit">
                <input class="title" rows="1" required value="{{text}}">
                <textarea class="description" rows="auto">{{description}}</textarea>
            </div>
            <div class="edit">
                {{> priorityChooser priority=priority}}
            </div>
            <!-- <div class="action-box ctrl-box pull-right">
                    <i class="fa fa-floppy-o edit-ok-action"></i>
                    <i class="fa fa-times edit-cancel-action"></i>
                 </div> -->
            <div class="action-box ctrl-box pull-right">
                <span class="button btn btn-primary btn-sm edit-ok-action">Save</span>
                <span class="button btn btn-danger btn-sm edit-cancel-action text-danger">Cancel</span>
            </div>
        {{else}}
            <div class="col-xs-1 action-box complete-box">
                {{#if taskCompleted}}
                    <i class="button fa fa-check complete-action"></i>
                {{else}}
                    <i class="button fa fa-circle-thin complete-action"></i>
                {{/if}}
                <span class="button priority {{priorityText}}">{{priorityText}}</span>
            </div>
            <div class="col-xs-10 action-box content-box">
                <a class="action-title title action-edit">
                    {{trimLongText text 30}}
                </a>
                <a class="action-title action-edit description">{{trimLongText description 100}}</a>
            </div>
            <div class="col-xs-1 delete-box">
                <i class="fa fa-trash-o delete-action"></i>
            </div>
            {{#if isTimeStarted}}
                <i class="fa fa-clock-o stop-timer"></i>
                <!-- <span class="stop-timer">Stop timer</span> -->
            {{else}}
                <i class="fa fa-clock-o start-timer"></i>
                <!-- <span class="start-timer">Start timer</span> -->
            {{/if}}
        {{/if}}
    </div>
</template>